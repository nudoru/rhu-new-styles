// https://github.com/pure-css/pure/blob/master/src/forms/css/forms.css

/*csslint box-model:false*/
/*
Box-model set to false because we're setting a height on select elements, which
also have border and padding. This is done because some browsers don't render
the padding. We explicitly set the box-model for select elements to border-box,
so we can ignore the csslint warning.
*/

.pure-form {
  label {
    @extend .control-label;
    margin: $base-value-half 0;
  }
  fieldset {
    margin: 0;
    padding: $base-value-quarter 0 0.75rem;
    border: 0;
  }
  legend {
    @extend .control-heading;
    display: block;
    width: 100%;
    padding: $base-value-quarter 0;
    margin-bottom: $base-value-quarter;
    color: $grey8;
  }

  /* Inline help for forms */
  .pure-form-message-inline {
    @extend .control-subtext;
    display: inline-block;
    padding-left: $base-value;
    color: $grey6;
    vertical-align: middle;
  }

  /* Block help for forms */
  .pure-form-message {
    @extend .control-subtext;
    display: block;
    color: $grey6;
    padding-top: $base-value-quarter;
    padding-bottom: $base-value;
  }

  input[type='text'],
  input[type='password'],
  input[type='email'],
  input[type='url'],
  input[type='date'],
  input[type='month'],
  input[type='time'],
  input[type='datetime'],
  input[type='datetime-local'],
  input[type='week'],
  input[type='number'],
  input[type='search'],
  input[type='tel'],
  input[type='color'],
  select,
  textarea {
    @extend .control-shadow-inner;
    @extend .control-border;
    padding: $base-value-half;
    display: inline-block;
    vertical-align: middle;
    box-sizing: border-box;
  }

  /*
Need to separate out the :not() selector from the rest of the CSS 2.1 selectors
since IE8 won't execute CSS that contains a CSS3 selector.
*/
  input:not([type]) {
    @extend .control-shadow-inner;
    @extend .control-border;
    padding: $base-value-half;
    display: inline-block;
    box-sizing: border-box;
  }

  /* Chrome (as of v.32/34 on OS X) needs additional room for color to display. */
  /* May be able to remove this tweak as color inputs become more standardized across browsers. */
  input[type='color'] {
    padding: $base-value-quarter $base-value-half;
  }

  input[type='text']:focus,
  input[type='password']:focus,
  input[type='email']:focus,
  input[type='url']:focus,
  input[type='date']:focus,
  input[type='month']:focus,
  input[type='time']:focus,
  input[type='datetime']:focus,
  input[type='datetime-local']:focus,
  input[type='week']:focus,
  input[type='number']:focus,
  input[type='search']:focus,
  input[type='tel']:focus,
  input[type='color']:focus,
  select:focus,
  textarea:focus {
    // outline: 0;
    // border-color: $form-color-focus;
    @extend .control-border-style-active;
  }

  /*
Need to separate out the :not() selector from the rest of the CSS 2.1 selectors
since IE8 won't execute CSS that contains a CSS3 selector.
*/
  input:not([type]):focus {
    outline: 0;
    //border-color: $form-color-focus;
    @extend .control-border-style-active;
  }

  input[type='file']:focus,
  input[type='radio']:focus,
  input[type='checkbox']:focus {
    //outline: thin solid $form-color-focus;
    //outline: 1px auto $form-color-focus;
    @extend .control-border-style-active;
  }
  .pure-checkbox,
  .pure-radio {
    margin: $base-value-half 0;
    display: block;
  }

  input[type='text'][disabled],
  input[type='password'][disabled],
  input[type='email'][disabled],
  input[type='url'][disabled],
  input[type='date'][disabled],
  input[type='month'][disabled],
  input[type='time'][disabled],
  input[type='datetime'][disabled],
  input[type='datetime-local'][disabled],
  input[type='week'][disabled],
  input[type='number'][disabled],
  input[type='search'][disabled],
  input[type='tel'][disabled],
  input[type='color'][disabled],
  select[disabled],
  textarea[disabled] {
    cursor: not-allowed;
    background-color: $form-color-disabled-background;
    color: $form-color-disabled-text;
  }

  /*
Need to separate out the :not() selector from the rest of the CSS 2.1 selectors
since IE8 won't execute CSS that contains a CSS3 selector.
*/
  input:not([type])[disabled] {
    cursor: not-allowed;
    background-color: $form-color-disabled-background;
    color: $form-color-disabled-text;
  }
  input[readonly],
  select[readonly],
  textarea[readonly] {
    background-color: #eee; /* menu hover bg color */
    color: $form-color-disabled-text; /* menu text color */
    border-color: $form-color-disabled-text;
  }

  input:focus:invalid,
  textarea:focus:invalid,
  select:focus:invalid {
    color: $from-color-error-text;
    border-color: $from-color-error-border;
  }
  input[type='file']:focus:invalid:focus,
  input[type='radio']:focus:invalid:focus,
  input[type='checkbox']:focus:invalid:focus {
    outline-color: $from-color-error-border;
  }
  select {
    @extend .control-border;
    /* Normalizes the height; padding is not sufficient. */
    height: 2.25rem;
    background-color: white;
  }
  select[multiple] {
    height: auto;
  }

  /* Rounded Inputs */
  input.pure-input-rounded,
  .pure-input-rounded {
    border-radius: $radius-base * 2;
    padding: $base-value-half $scale0;
  }

  .pure-input-1 {
    width: 100%;
  }
  .pure-input-3-4 {
    width: 75%;
  }
  .pure-input-2-3 {
    width: 66%;
  }
  .pure-input-1-2 {
    width: 50%;
  }
  .pure-input-1-3 {
    width: 33%;
  }
  .pure-input-1-4 {
    width: 25%;
  }
}

.pure-form-stacked {
  input[type='text'],
  input[type='password'],
  input[type='email'],
  input[type='url'],
  input[type='date'],
  input[type='month'],
  input[type='time'],
  input[type='datetime'],
  input[type='datetime-local'],
  input[type='week'],
  input[type='number'],
  input[type='search'],
  input[type='tel'],
  input[type='color'],
  input[type='file'],
  select,
  textarea {
    display: block;
    margin: $base-value 0;
  }

  label {
    display: block;
    margin-bottom: -$base-value;
  }

  .pure-form-message {
    display: block;
    margin-top: -$base-value;
  }

  /*
Need to separate out the :not() selector from the rest of the CSS 2.1 selectors
since IE8 won't execute CSS that contains a CSS3 selector.
*/
  input:not([type]) {
    display: block;
    margin: $base-value-quarter 0;
  }
}

/* Grouped Inputs */
.pure-group {
  fieldset {
    margin-bottom: 10px;
  }
  input,
  textarea {
    display: block;
    padding: 10px;
    margin: 0 0 -1px;
    border-radius: 0;
    position: relative;
    top: -1px;
  }
  input:focus,
  textarea:focus {
    z-index: 3;
  }
  input:first-child,
  textarea:first-child {
    top: 1px;
    border-radius: $radius-base $radius-base 0 0;
    margin: 0;
  }
  input:first-child:last-child,
  textarea:first-child:last-child {
    top: 1px;
    border-radius: $radius-base;
    margin: 0;
  }
  input:last-child,
  textarea:last-child {
    top: -2px;
    border-radius: 0 0 $radius-base $radius-base;
    margin: 0;
  }
  button {
    margin: $base-value-quarter 0;
  }
}

// TODO use a grid
.pure-form-aligned {
  input,
  textarea,
  select,
  .pure-form-message-inline {
    display: inline-block;
    vertical-align: middle;
  }
  textarea {
    vertical-align: top;
  }

  /* Aligned Forms */
  .pure-control-group {
    margin-bottom: $base-value-half;
  }
  .pure-control-group label {
    text-align: right;
    display: inline-block;
    vertical-align: middle;
    width: 10rem;
    margin: 0 $scale0 0 0;
  }
  .pure-controls {
    margin: $scale3 0 0 11rem;
  }
}
